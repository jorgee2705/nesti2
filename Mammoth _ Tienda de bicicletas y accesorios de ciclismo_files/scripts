function DropDown(n){this.dd=n;this.placeholder=this.dd.children(".btn-sorter");this.opts=this.dd.find(".dropdown-options li");this.val="";this.index=-1;this.initEvents()}function AbrirModal(n){var n=document.getElementById(n);n.style.display="block";document.body.style.overflowY="hidden";n.classList.remove("modal-animate-exit")}function CerrarModal(n){var n=document.getElementById(n);n.classList.add("modal-animate-exit");n.addEventListener("animationend",function(){this.classList.contains("modal-animate-exit")&&(document.body.style.overflowY="auto",this.style.display="none",console.log("buddy time"))})}function obtenerDatosSlides(){var n,u,t,i,r,f;try{for(n=document.querySelectorAll('[data-type="slide"]'),u=[],t=0;t<n.length;t++)i=n[t],r=i.id,u.some(function(n){return n.id===r})?(i.remove(),f=document.getElementById(r),f.remove()):u.push({id:r,element:i});n.forEach(function(n){var i,r,u,f,e,o,t,g=n.id,h=n.getAttribute("data-slide"),nt=n.getAttribute("data-slide-idIdioma"),tt=n.getAttribute("data-slide-idPaisEnvio"),c=n.getAttribute("data-slide-nProd"),l=n.getAttribute("data-slide-mObt"),a=n.getAttribute("data-slide-nVent"),v=n.getAttribute("data-slide-prodRel"),y=n.getAttribute("data-slide-design"),p=parseInt(n.getAttribute("data-slide-precioMin"),10),w=parseInt(n.getAttribute("data-slide-precioMax"),10),b=parseInt(n.getAttribute("data-slide-precioProd"),10),k=parseInt(n.getAttribute("data-slide-precioMinPercent"),10),d=parseInt(n.getAttribute("data-slide-precioMaxPercent"),10),s=n.getAttribute("data-slide-list_idProdSimilares");s=JSON.parse(s);i=n.getAttribute("data-slide-list_marcas");i=JSON.parse(i);r=n.getAttribute("data-slide-list_departamentos");r=JSON.parse(r);u=n.getAttribute("data-slide-list_colores");u=JSON.parse(u);f=n.getAttribute("data-slide-list_tallas");f=JSON.parse(f);e=n.getAttribute("data-slide-list_valores");e=JSON.parse(e);o=n.getAttribute("data-slide-list_prodDest");o=JSON.parse(o);h===null||isNaN(h)||(t={},t.idSlide=h,t.idDivSlide=g,t.idIdioma=nt,t.idPaisEnvio=tt,c===null||isNaN(c)||(t.totalProdObtener=c),l===null||isNaN(l)||(t.idMetodoObtProduc=l),a===null||isNaN(a)||(t.diasVentas=a),v===null||isNaN(v)||(t.idProdRelacionado=v),y===null||isNaN(y)||(t["idDiseÃ±oSlide"]=y),b===null||isNaN(b)||(t.precioProd=b),k===null||isNaN(k)||(t.precioMinPercent=k),d===null||isNaN(d)||(t.precioMaxPercent=d),p===null||isNaN(p)||(t.precioMin=p),w===null||isNaN(w)||(t.precioMax=w),s!==null&&(t.lstIdProductosSimilares=s),i!==null&&(t.LstMarcas=i),r!==null&&(t.LstDepartamentos=r),u!==null&&(t.LstColores=u),f!==null&&(t.LstTallas=f),e!==null&&(t.LstValores=e),o!==null&&(t.LstProdDest=o),setTimeout(function(){getSlide(t)},100))})}catch(e){throw new Error(e);}}function getSlide(n){$.ajax({url:"/slide/cargarslideproductos",contentType:"application/json",dataType:"html",type:"POST",cache:!1,async:!0,data:JSON.stringify(n),success:function(t){$("#"+n.idDivSlide).html(t)},error:function(){var t=document.getElementById(n.idDivSlide);t.remove()}})}function obtenerObjetoProducto(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p;return p="",a!=""&&a!=null&&(a=a.toLowerCase()),l!=""&&l!=null&&(l=l.toLowerCase()),c!=""&&c!=null&&(c=c.toLowerCase()),h!=""&&h!=null&&(h=h.toLowerCase()),s!=""&&s!=null&&(s=s.toLowerCase()),r!=""&&r!=null&&(r=r.toLowerCase().trim()),i!=""&&i!=null&&(i=i.toLowerCase().trim()),v!=""&&v!=null&&(v=v.toLowerCase().trim()),p=a!=""&&a!=null?a:l!=""&&l!=null?l:c!=""&&c!=null?c:h!=""&&h!=null?h:s,p!=""&&(p="Product list "+p),{item_name:r,item_idv:t,item_id:n,price:u,discount:f,currency:e,item_brand:i,item_category:s,item_category2:h,item_category3:c,item_category4:l,item_category5:a,item_variant:v,item_list_name:p,item_list_id:o,quantity:y}}function formatPriceShared(n,t,i,r){var u=new Intl.NumberFormat(r,{style:"decimal",currency:i,minimumFractionDigits:2,maximumFractionDigits:2});return i=="GBP"?t+" "+u.format(n):u.format(n)+" "+t}var stickyHeader,previousScroll;!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):jQuery&&!jQuery.fn.hoverIntent&&n(jQuery)}(function(n){"use strict";function r(n){t=n.pageX;i=n.pageY}function u(n){return"function"==typeof n}var t,i,e={interval:100,sensitivity:6,timeout:0},o=0,f=function(n,u,e,o){if(Math.sqrt((e.pX-t)*(e.pX-t)+(e.pY-i)*(e.pY-i))<o.sensitivity)return u.off(e.event,r),delete e.timeoutId,e.isActive=!0,n.pageX=t,n.pageY=i,delete e.pX,delete e.pY,o.over.apply(u[0],[n]);e.pX=t;e.pY=i;e.timeoutId=setTimeout(function(){f(n,u,e,o)},o.interval)};n.fn.hoverIntent=function(t,i,s){function l(t){var e=n.extend({},t),u=n(this),o=u.data("hoverIntent"),i,s;if(o||u.data("hoverIntent",o={}),i=o[c],i||(o[c]=i={id:c}),i.timeoutId&&(i.timeoutId=clearTimeout(i.timeoutId)),s=i.event="mousemove.hoverIntent.hoverIntent"+c,"mouseenter"===t.type){if(i.isActive)return;i.pX=e.pageX;i.pY=e.pageY;u.off(s,r).on(s,r);i.timeoutId=setTimeout(function(){f(e,u,i,h)},h.interval)}else{if(!i.isActive)return;u.off(s,r);i.timeoutId=setTimeout(function(){!function(n,t,i,r){var u=t.data("hoverIntent");u&&delete u[i.id];r.apply(t[0],[n])}(e,u,i,h.out)},h.timeout)}}var c=o++,h=n.extend({},e);n.isPlainObject(t)?(h=n.extend(h,t),u(h.out)||(h.out=h.over)):h=u(i)?n.extend(h,{over:t,out:i,selector:s}):n.extend(h,{over:t,out:t,selector:i});return this.on({"mouseenter.hoverIntent":l,"mouseleave.hoverIntent":l},h.selector)}});$(".nav--level-1 > .nav-link.has_children").hoverIntent({sensitivity:2,interval:100,timeout:100,over:function(){$(this).addClass("megamenu-open").find(".megamenu-content").slideDown();$(this).siblings().removeClass("megamenu-open active").find(".megamenu-content").css("display","none");$(this).addClass("active")},out:function(){$(this).removeClass("megamenu-open").find(".megamenu-content").slideUp();$(".nav--level-1 > .nav-link").removeClass("active")}});stickyHeader=function(){var n=$(this).scrollTop();n<previousScroll?($(".header").addClass("sticky"),$(".header").css({height:50,position:"fixed"}),console.log("Scroll up")):($(".header").removeClass("sticky"),$(".header").css({height:50,position:"absolute"}),console.log("Scroll down"));n===0&&($(".header").removeClass("sticky"),$(".header").css({height:145,position:"relative"}),console.log("Top"));previousScroll=n};$(window).width()<991&&(previousScroll=0,$(window).scroll(stickyHeader)),function(n){function p(){t.hasClass(o)&&(i.toggleClass(u),t.find(".menu--level-2").removeClass("active"),n(".push-menu--categories").animate({left:"0"},300,function(){}));n(i).hasClass(u)?i.css("overflow","hidden"):i.css("overflow","auto")}function nt(){t.hasClass(o)&&(i.removeClass(u),t.find(".menu--level-2").removeClass("active"),n(".push-menu--categories").animate({left:"0"},300,function(){}));i.css("overflow","auto")}function w(){t.hasClass(o)&&(i.addClass(u),t.animate({left:"0px"},f),a.animate({left:s},f),k.animate({left:s},f));i.css("overflow","hidden")}function l(){t.hasClass(o)&&(i.removeClass(u),t.animate({left:"-"+s},f),a.animate({left:"0px"},f),k.animate({left:"0px"},f),t.find(".menu--level-2").removeClass("active"),n(".push-menu--categories").animate({left:"0"},300,function(){}),e.preventDefault());i.css("overflow","auto")}function b(){n(c).addClass(h);n(c).on("click",function(){var t=n(this);t.hasClass(h)?(n(c).addClass(h).removeClass(v),t.removeClass(h).addClass(v)):t.addClass(h).removeClass(v)})}var t=n(".pushy"),i=n("body"),a=n("#container"),k=n(".push"),o="pushy-left",u="pushy-open-left",d=n(".site-overlay"),g=n(".navbar-toggle, .pushy-link"),tt=n(".navbar-toggle"),it=n(t.data("focus")),f=200,s=t.width()+"px",c=".pushy-submenu",v="pushy-submenu-open",h="pushy-submenu-closed",rt=n(c),y,r;if(n(document).keyup(function(n){n.keyCode==27&&i.hasClass(u)&&(y?nt():(l(),r=!1))}),y=function(){var n=document.createElement("p"),t=!1,r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},i;if(document.body!==null){document.body.insertBefore(n,null);for(i in r)n.style[i]!==undefined&&(n.style[i]="translate3d(1px,1px,1px)",t=window.getComputedStyle(n).getPropertyValue(r[i]));return document.body.removeChild(n),t!==undefined&&t.length>0&&t!=="none"}return!1}(),y){b();g.on("click",function(){p()});d.on("click",function(){p()})}else{i.addClass("no-csstransforms3d");t.hasClass(o)?t.css({left:"-"+s}):t.css({right:"-"+s});a.css({"overflow-x":"hidden"});r=!1;b();g.on("click",function(){r?(l(),r=!1):(w(),r=!0)});d.on("click",function(){r?(l(),r=!1):(w(),r=!0)})}}(jQuery);$(".menu--level-1 > .menu-item.has__children > a").click(function(n){$(this).siblings().addClass("active");$(".push-menu--categories").animate({left:"-100%"},250,function(){});$(".push-menu").animate({scrollTop:0},0);n.preventDefault()});$(".menu--level-2 > .back > button").click(function(n){$(this).closest(".menu--level-2").removeClass("active");$(".push-menu--categories").animate({left:"0"},250,function(){});n.preventDefault()});$(".menu--level-2 > .menu-item.has__children > a").click(function(n){$(this).siblings().addClass("active");$(this).closest(".menu--level-2").removeClass("active").addClass("pushed");$(this).closest(".menu--level-2").animate({left:"-100%"},250,function(){});$(".push-menu").animate({scrollTop:0},0);n.preventDefault()});$(".menu--level-3 > .back > button").click(function(n){$(this).closest(".menu--level-3").removeClass("active");$(this).closest(".menu--level-2").addClass("active").removeClass("pushed");$(".menu--level-2").animate({right:"-100%",left:"100%"},250,function(){});n.preventDefault()});jQuery(function(){function n(n){const t=$(n).parents(".form-group");$(n).val().length>0?t.addClass("is-filled"):t.removeClass("is-filled")}$(".form-group input").focus(function(){$(this).is(":focus")&&$(this).parent(".form-group").addClass("is-focused")});$(".form-group input").focusout(function(){$(this).parent(".form-group").removeClass("is-focused");$(this).val()!=""?$(this).parent(".form-group").addClass("is-filled"):$(this).parent(".form-group").removeClass("is-filled")});$(".form-group input").each(function(){n(this)});$(".form-group input").on("change keyup",function(){n(this)})});$(".accordion-content").css("display","none");$(".accordion-btn").click(function(){$(this).toggleClass("collapsed").next(".accordion-content").slideToggle("fast")});$(".dropdown-modal .dropdown-content").css("display","none");$(".btn-dropdown").on("click",function(){$(this).parent().toggleClass("active").find(".dropdown-content").slideToggle("fast");var n=$(this).next(".dropdown-content");$(".dropdown-content").not(n).hide()});$(document).bind("click",function(n){var t=$(n.target);t.parents().hasClass("dropdown-modal")||$(".dropdown-content").hide()});$(".dropdown-options li").on("click",function(){$(this).toggleClass("active").closest(".dropdown-content").slideToggle("fast");var n=$(this);$(".dropdown-options li").not(n).removeClass("active")});DropDown.prototype={initEvents:function(){var n=this;n.opts.on("click",function(){var t=$(this);n.val=t.text();n.index=t.index();n.placeholder.text(n.val)})},getValue:function(){return this.val},getIndex:function(){return this.index}};$(window).scroll(function(){$(".dropdown-select").removeClass("active");$(".dropdown-modal .dropdown-content").css("display","none")});$(".tab a").on("click",function(n){n.preventDefault();$(this).parent().addClass("active");$(this).parent().siblings().removeClass("active");var t=$(this).attr("href");$(".tab-content > div").not(t).hide();$(t).fadeIn(600)});$(document).ready(function(){$(".card-address").click(function(){$(".card-address").removeClass("is__active");$(this).hasClass("is__active")?$(".card-address").removeClass("is__active"):$(this).addClass("is__active")});try{obtenerDatosSlides()}catch(n){console.error("Error al cargar los slides: "+n)}});$(".card--checkbox").find(".card-form-group").hide();$(".card--checkbox > .barrabes-checkbox").find("input").change(function(){this.checked?$(this).closest(".card--checkbox").find(".card-form-group").slideDown("fast"):$(this).closest(".card--checkbox").find(".card-form-group").slideUp("fast")});$(document).ready(function(){$(".card--option").children(".card-content").hide();$(".card--option > .barrabes-radio").find(".radio-input").change(function(){this.checked&&($(this).closest(".card--option").siblings().removeClass("is__active").children(".card-content").hide(),$(this).closest(".card--option").addClass("is__active").children(".card-content").slideToggle())})})